<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Teknologi</title>
    

  </head>
    
  <body>
  <!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teknologi vælger</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Montserrat:wght@500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #00ddeb, #ff3333, #8a2be2);
            color: #fff;
            display: flex;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 10%, transparent 10%);
            background-size: 30px 30px;
            opacity: 0.3;
            z-index: -1;
        }
        #sidebar {
            width: 35%;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            border-right: 2px solid rgba(255, 255, 255, 0.3);
            overflow-y: auto;
            padding: 25px;
            box-shadow: 0 8px 40px rgba(0, 0, 0, 0.2);
            max-height: 100vh;
        }
        #sidebar h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.5em;
            margin: 0 0 25px;
            color: #fff;
            text-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
            animation: fadeInText 1s ease-in;
        }
        .tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }
        .tab {
            padding: 12px 25px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.4);
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
        }
        .tab.active {
            background: linear-gradient(135deg, #3b82f6, #ff3333);
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.7);
            transform: scale(1.05);
        }
        .tab:hover {
            background: rgba(255, 255, 255, 0.4);
            transform: translateY(-3px);
        }
        #equipment-tab {
            min-height: 100%;
        }
        #equipment-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            min-height: 500px; /* Adjust or remove if not needed */
        }
        .equipment-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(12px);
            border-radius: 15px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        .equipment-item:hover {
            transform: translateY(-5px) rotate(2deg);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
            border-color: #ff3333;
        }
        .equipment-item.active {
            background: linear-gradient(145deg, #3b82f6, #ff3333);
            box-shadow: 0 12px 30px rgba(59, 130, 246, 0.5);
            border-color: #00ddeb;
        }
        .equipment-item img {
            width: 130px;
            height: 130px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }
        .equipment-item img:hover {
            transform: scale(1.1);
        }
        .equipment-item span {
            font-size: 1.2em;
            color: #fff;
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }
        .equipment-item.active span {
            color: #fff;
        }
        .equipment-item .status {
            font-size: 0.95em;
            margin-top: 8px;
            color: #00ff99;
            font-weight: 500;
        }
        .equipment-item.booked .status {
            color: #ff4d4d;
        }
        .equipment-item .stock {
            font-size: 0.95em;
            margin-top: 8px;
            color: #e0e0e0;
            font-weight: 500;
        }
        .equipment-item .task {
            font-size: 0.95em;
            margin-top: 8px;
            color: #e0e0e0;
            font-weight: 500;
        }
        #bookings-tab {
            display: none;
            min-height: 100%;
        }
        #bookings-table {
            width: 100%;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        #bookings-table table {
            width: 100%;
            border-collapse: collapse;
            color: #fff;
            font-family: 'Poppins', sans-serif;
        }
        #bookings-table th, #bookings-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }
        #bookings-table th {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 1.1em;
        }
        #bookings-table button {
            padding: 8px 15px;
            background: linear-gradient(135deg, #ff4d4d, #cc0000);
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(255, 77, 77, 0.5);
        }
        #bookings-table button:hover {
            background: linear-gradient(135deg, #cc0000, #ff4d4d);
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(255, 77, 77, 0.7);
        }
        #booking-form {
            margin-top: 25px;
        }
        #booking-form select, #booking-form input {
            padding: 10px;
            margin: 8px 0;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.4);
            font-size: 1em;
            width: 220px;
            background: rgba(0, 0, 0, 0.3);
            color: #00ff99 !important; /* Force neon green for input text */
        }
        #booking-form input::placeholder {
            color: #00ff99; /* Neon green for placeholders */
            opacity: 0.7; /* Slightly dim for distinction */
        }
        #booking-form input[type="date"] {
            color: #00ff99 !important; /* Neon green for date input */
        }
        #booking-form input[type="date"]::-webkit-calendar-picker-indicator {
            filter: invert(100%) sepia(100%) saturate(1000%) hue-rotate(120deg); /* Approximate neon green for date picker icon */
        }
        #booking-form select option {
            background: rgba(0, 0, 0, 0.7);
            color: #00ff99; /* Neon green for dropdown options */
            font-family: 'Poppins', sans-serif;
            font-size: 1em;
        }
        #booking-form select:focus, #booking-form input:focus {
            outline: none;
            border-color: #00ddeb;
            box-shadow: 0 0 10px rgba(0, 221, 235, 0.5);
        }
        #booking-form button {
            padding: 12px 25px;
            background: linear-gradient(135deg, #3b82f6, #ff3333);
            color: #00ff99; /* Neon green for button text */
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Montserrat', sans-serif;
            font-size: 1em;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }
        #booking-form button:hover {
            background: linear-gradient(135deg, #ff3333, #3b82f6);
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.7);
        }
        .confirmation {
            color: #00ff99; /* Already neon green */
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            margin: 12px 0;
            animation: fadeInText 0.5s ease-in;
        }
        #content {
            width: 65%;
            padding: 35px;
            display: flex;
            flex-direction: column;
            align-items: center;
            background: rgba(0, 0, 0, 0.05);
            overflow-y: auto;
            max-height: 100vh;
        }
        #equipment-details {
            text-align: left;
            width: 100%;
            max-width: 750px;
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(15px);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.5);
            animation: fadeIn 0.7s ease-in;
        }
        #equipment-details h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.8em;
            margin: 0.5em 0;
            color: #fff;
            font-weight: 700;
            text-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }
        #equipment-details p {
            font-size: 1.3em;
            margin: 0.6em 0;
            color: #e0e0e0;
            line-height: 1.5;
        }
        #equipment-details img {
            max-width: 280px;
            height: auto;
            border-radius: 12px;
            margin: 15px 0;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }
        #equipment-details img:hover {
            transform: scale(1.05);
        }
        #equipment-details iframe {
            width: 360px;
            height: 202px;
            border-radius: 12px;
            margin: 15px 0;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            border: none;
        }
        .task {
            font-size: 1.3em;
            margin: 0.6em 0;
            color: #e0e0e0;
            line-height: 1.5;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeInText {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }
            #sidebar {
                width: 100%;
                max-height: 40vh;
            }
            #content {
                width: 100%;
                max-height: 60vh;
            }
            #equipment-list {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                min-height: 300px;
            }
            .equipment-item img {
                width: 100px;
                height: 100px;
            }
            #equipment-details img {
                max-width: 220px;
            }
            #equipment-details iframe {
                width: 100%;
                height: auto;
                aspect-ratio: 16/9;
            }
            #booking-form select, #booking-form input {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div id="sidebar">
        <h2>Teknologi vælger</h2>
        <div class="tabs">
            <div class="tab active" onclick="showTab('equipment')">Udstyr</div>
            <div class="tab" onclick="showTab('bookings')">Bookinger</div>
        </div>
        <div id="equipment-tab">
            <div id="equipment-list"></div>
        </div>
        <div id="bookings-tab">
            <div id="bookings-table"></div>
            <div id="booking-form">
                <h3>Book udstyr</h3>
                <select id="equipment-select">
                    <option value="">Vælg udstyr</option>
                </select>
                <input type="text" id="booker-name" placeholder="Dit navn" required>
                <input type="number" id="booking-quantity" placeholder="Antal" min="1" required>
                <input type="date" id="booking-date" required>
                <button onclick="bookEquipment()">Book</button>
                <div id="confirmation" class="confirmation"></div>
            </div>
        </div>
    </div>
    <div id="content">
        <div id="equipment-details">
            <p>Vælg et udstyr for at se detaljer.</p>
        </div>
    </div>

    <script>
        // Equipment data with image URLs, video IDs, stock, and tasks
        const equipmentList = [
            { 
                name: "LEGO Spike Prime", 
                description: "Et dynamisk STEAM-læringsværktøj designet til 6.-8. klasse, der kombinerer farverige LEGO-elementer med avanceret Scratch-baseret programmering. Med sensorer, motorer og en intelligent hub kan elever bygge og programmere interaktive robotter og modeller, der bringer naturvidenskab, teknologi og ingeniørkunst til live. Perfekt til at fremme kreativ problemløsning og samarbejde gennem sjove, hands-on projekter som selvkørende biler eller automatiske maskiner.", 
                imageUrl: "https://www.lekolar.dk/globalassets/inriver/resources/130606_116769.jpg",
                videoId: "3zVadn_7l6o",
                stock: 5,
                task: "Byg en simpel bil med LEGO Spike Prime, og programmer den til at køre fremad i 5 sekunder, når du trykker på en knap. Brug Scratch til at tilføje en lyd, når bilen starter."
            },
            { 
                name: "Makey Makey", 
                description: "Et spændende værktøj, der gør verden til en controller! Makey Makey lader elever skabe interaktive kredsløb ved at forbinde hverdagsgenstande – som frugt, plasticine eller papir – til en computer for at styre spil, musik eller programmer. Ideel til at introducere elektronik og kodning på en legende måde, der opmuntrer til eksperimenteren og kreativitet i alle aldre.", 
                imageUrl: "https://www.lekolar.dk/globalassets/inriver/resources/56659_067837.jpg",
                videoId: "rfQqh7iCcOU",
                stock: 10,
                task: "Lav en 'frugt-piano' ved at forbinde fire stykker frugt (f.eks. bananer eller æbler) til Makey Makey. Brug et online klaverprogram til at spille forskellige noter, når du rører ved hver frugt."
            },
            { 
                name: "LEGO Spike Essentials", 
                description: "En begyndervenlig udgave af Spike Prime, skræddersyet til klasseværelset for yngre elever (4.-6. klasse). Med LEGO-elementer, sensorer og enkle programmeringsmuligheder via Scratch inspirerer dette sæt til at udforske kodning og ingeniørkunst gennem legende projekter. Perfekt til at skabe små robotter eller mekanismer, der understøtter faglige lektionsplaner i naturfag og teknologi.", 
                imageUrl: "https://www.lego.com/cdn/cs/set/assets/blt0d31c588b8d182ae/45345.jpg?fit=bounds&format=jpg&quality=80&width=1500&height=1500&dpr=1",
                videoId: "kJ9L8LM8g4I",
                stock: 5,
                task: "Byg en vindmølle med LEGO Spike Essentials, og programmer den til at dreje, når du klapper i hænderne. Brug lydsensoren og Scratch til at få møllen til at stoppe efter 3 sekunder."
            },
            { 
                name: "Blue-Bots", 
                description: "Sød og programmerbar robot til små børn (3-7 år), der introducerer kodning gennem leg. Blue-Bots kan programmeres via knapper på ryggen eller en app til at bevæge sig i præcise retninger, hvilket gør dem ideelle til at lære sekvenser, retninger og grundlæggende algoritmer på en sjov og tilgængelig måde. Perfekt til gruppeaktiviteter i børnehave eller indskoling.", 
                imageUrl: "https://www.lekolar.dk/globalassets/inriver/resources/56611_49107.jpg",
                videoId: "8B4i0q9W2l4",
                stock: 6,
                task: "Lav en firkantet bane på gulvet med tape, og programmer en Blue-Bot til at køre i en firkant (frem, drej, frem, drej osv.). Brug knapperne på Blue-Bot til at indtaste kommandoerne."
            },
            { 
                name: "Green Screen", 
                description: "Et kreativt værktøj til videooptagelse med baggrundsredigering, perfekt til at skabe professionelle videoer eller præsentationer. Elever kan filme foran en grøn baggrund og bruge software som iMovie eller CapCut til at erstatte baggrunden med billeder eller videoer, hvilket gør det ideelt til historiefortælling, præsentationer eller kunstprojekter.", 
                imageUrl: "https://ae.hama.com/bilder/00021/abx/00021571abx5.webp",
                videoId: "6VTFXq9g4I8",
                stock: 1,
                task: "Optag en kort video (30 sekunder) foran Green Screen, hvor du præsenterer dig selv som en 'nyhedsvært' fra et andet land. Brug en app som iMovie til at tilføje en baggrundsbillede af en by."
            },
            { 
                name: "Green kasse til stopmotion", 
                description: "En kompakt green screen-kasse designet til at lave stopmotion-film. Perfekt til kreative projekter, hvor elever kan animere figurer eller objekter mod en tilpasset baggrund. Kombineres med stopmotion-apps som Stop Motion Studio for at skabe sjove, animerede historier, der understøtter kunst og teknologi i undervisningen.", 
                imageUrl: "https://www.lekolar.dk/globalassets/inriver/resources/80232_46984.jpg",
                videoId: "6VTFXq9g4I8",
                stock: 4,
                task: "Lav en kort stopmotion-film (10-15 billeder) med en LEGO-figur i Green kassen, der 'bevæger' sig til en strandbaggrund. Brug Stop Motion Studio til at tage billeder og tilføje baggrunden."
            }
        ];

        // Load bookings from localStorage and convert legacy data
        let bookings = JSON.parse(localStorage.getItem('bookings')) || {};
        // Convert legacy object-based bookings to array-based
        Object.keys(bookings).forEach(equipmentName => {
            if (!Array.isArray(bookings[equipmentName])) {
                const legacyBooking = bookings[equipmentName];
                bookings[equipmentName] = [{
                    bookedBy: legacyBooking.bookedBy,
                    date: legacyBooking.date,
                    quantity: 1 // Assume quantity 1 for legacy bookings
                }];
            }
        });
        localStorage.setItem('bookings', JSON.stringify(bookings));

        // Calculate available stock for an equipment item
        function getAvailableStock(equipmentName) {
            const equipment = equipmentList.find(e => e.name === equipmentName);
            if (!equipment) return 0;
            const bookingList = Array.isArray(bookings[equipmentName]) ? bookings[equipmentName] : [];
            const bookedQuantity = bookingList.reduce((sum, booking) => sum + (booking.quantity || 0), 0);
            return equipment.stock - bookedQuantity;
        }

        // Populate equipment grid
        const equipmentListDiv = document.getElementById('equipment-list');
        function renderEquipmentList() {
            equipmentListDiv.innerHTML = '';
            equipmentList.forEach((equipment, index) => {
                const availableStock = getAvailableStock(equipment.name);
                const item = document.createElement('div');
                item.className = `equipment-item ${availableStock === 0 ? 'booked' : ''}`;
                item.innerHTML = `
                    <img src="${equipment.imageUrl}" alt="${equipment.name}">
                    <span>${equipment.name}</span>
                    <div class="status">${availableStock === 0 ? 'Udlånt' : 'Ledig'}</div>
                    <div class="stock">Lager: ${availableStock}</div>
                `;
                item.onclick = () => showDetails(index);
                equipmentListDiv.appendChild(item);
            });
        }

        // Populate bookings table and equipment select options
        const bookingsTableDiv = document.getElementById('bookings-table');
        const equipmentSelect = document.getElementById('equipment-select');
        function renderBookings() {
            equipmentSelect.innerHTML = '<option value="">Vælg udstyr</option>';
            equipmentList.forEach(equipment => {
                const availableStock = getAvailableStock(equipment.name);
                if (availableStock > 0) {
                    const option = document.createElement('option');
                    option.value = equipment.name;
                    option.textContent = `${equipment.name} (Lager: ${availableStock})`;
                    equipmentSelect.appendChild(option);
                }
            });

            bookingsTableDiv.innerHTML = `
                <table>
                    <tr>
                        <th>Udstyr</th>
                        <th>Booket af</th>
                        <th>Dato</th>
                        <th>Antal</th>
                        <th>Handling</th>
                    </tr>
                    ${Object.keys(bookings).length === 0 ? '<tr><td colspan="5">Ingen bookinger endnu.</td></tr>' : ''}
                    ${Object.entries(bookings).flatMap(([name, bookingList]) => 
                        (Array.isArray(bookingList) ? bookingList : []).map((booking, index) => `
                            <tr>
                                <td>${name}</td>
                                <td>${booking.bookedBy}</td>
                                <td>${booking.date}</td>
                                <td>${booking.quantity || 1}</td>
                                <td><button onclick="cancelBooking('${name}', ${index})">Annuller</button></td>
                            </tr>
                        `)
                    ).join('')}
                </table>
            `;
        }

        // Show equipment details
        function showDetails(index) {
            const equipment = equipmentList[index];
            const detailsDiv = document.getElementById('equipment-details');
            const availableStock = getAvailableStock(equipment.name);
            const isBooked = availableStock === 0;
            detailsDiv.innerHTML = `
                <h1>${equipment.name}</h1>
                <img src="${equipment.imageUrl}" alt="${equipment.name}">
                <p><strong>Beskrivelse:</strong> ${equipment.description}</p>
                <p><strong>Status:</strong> ${isBooked ? 'Udlånt' : 'Ledig'}</p>
                <p><strong>Tilgængelig lagerbeholdning:</strong> ${availableStock}</p>
                <p class="task"><strong>Foreslået opgave:</strong> ${equipment.task}</p>
                <h3>Video</h3>
                <iframe src="https://www.youtube.com/embed/${equipment.videoId}?rel=0&controls=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen loading="lazy"></iframe>
            `;

            // Update active item
            document.querySelectorAll('.equipment-item').forEach(item => item.classList.remove('active'));
            equipmentListDiv.children[index].classList.add('active');
        }

        // Tab switching
        function showTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.getElementById('equipment-tab').style.display = 'none';
            document.getElementById('bookings-tab').style.display = 'none';
            if (tabName === 'equipment') {
                document.getElementById('equipment-tab').style.display = 'block';
                document.querySelector('.tab[onclick="showTab(\'equipment\')"]').classList.add('active');
                renderEquipmentList();
            } else {
                document.getElementById('bookings-tab').style.display = 'block';
                document.querySelector('.tab[onclick="showTab(\'bookings\')"]').classList.add('active');
                renderBookings();
            }
        }

        // Book equipment
        function bookEquipment() {
            const equipmentName = document.getElementById('equipment-select').value;
            const bookerName = document.getElementById('booker-name').value;
            const bookingQuantity = parseInt(document.getElementById('booking-quantity').value);
            const bookingDate = document.getElementById('booking-date').value;
            const confirmationDiv = document.getElementById('confirmation');

            if (!equipmentName || !bookerName || !bookingDate || !bookingQuantity) {
                alert('Udfyld venligst udstyr, navn, antal og dato.');
                return;
            }

            const availableStock = getAvailableStock(equipmentName);
            if (bookingQuantity <= 0) {
                alert('Antal skal være større end 0.');
                return;
            }
            if (bookingQuantity > availableStock) {
                alert(`Ikke nok lagerbeholdning. Tilgængelig: ${availableStock}`);
                return;
            }

            if (!Array.isArray(bookings[equipmentName])) {
                bookings[equipmentName] = [];
            }
            bookings[equipmentName].push({ bookedBy: bookerName, date: bookingDate, quantity: bookingQuantity });
            localStorage.setItem('bookings', JSON.stringify(bookings));
            renderBookings();
            renderEquipmentList();
            confirmationDiv.innerText = `${bookingQuantity} ${equipmentName} booket af ${bookerName} til ${bookingDate}!`;
            document.getElementById('booking-quantity').value = ''; // Clear quantity input
        }

        // Cancel booking
        function cancelBooking(equipmentName, bookingIndex) {
            if (Array.isArray(bookings[equipmentName])) {
                bookings[equipmentName].splice(bookingIndex, 1);
                if (bookings[equipmentName].length === 0) {
                    delete bookings[equipmentName];
                }
                localStorage.setItem('bookings', JSON.stringify(bookings));
                renderBookings();
                renderEquipmentList();
                document.getElementById('confirmation').innerText = `Booking af ${equipmentName} annulleret!`;
            }
        }

        // Initial render
        showTab('equipment');
    </script>
</body>
</html>
    
  </body>
  
</html>
